<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aufgabe 3 3-Coloring: /home/mkx/Dropbox/TU/3. Semester/Betriebssysteme/2. Ãœbungen und Abgaben/Aufgabe_4/src/supervisor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aufgabe 3 3-Coloring
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">supervisor.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Supervisor program module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &quot;<a class="el" href="shared_8h_source.html">shared.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for supervisor.c:</div>
<div class="dyncontent">
<div class="center"><img src="supervisor_8c__incl.png" border="0" usemap="#_2home_2mkx_2Dropbox_2TU_23_8_01Semester_2Betriebssysteme_22_8_01_xC3_x9Cbungen_01und_01Abgaben_2Aufgabe__4_2src_2supervisor_8c" alt=""/></div>
<map name="_2home_2mkx_2Dropbox_2TU_23_8_01Semester_2Betriebssysteme_22_8_01_xC3_x9Cbungen_01und_01Abgaben_2Aufgabe__4_2src_2supervisor_8c" id="_2home_2mkx_2Dropbox_2TU_23_8_01Semester_2Betriebssysteme_22_8_01_xC3_x9Cbungen_01und_01Abgaben_2Aufgabe__4_2src_2supervisor_8c">
<area shape="rect" id="node5" href="shared_8h.html" title="Shared header file. " alt="" coords="401,124,479,151"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:abf5441931a69e1e1e5d2fcb538f2577b"><td class="memItemLeft" align="right" valign="top">typedef struct sigaction&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#abf5441931a69e1e1e5d2fcb538f2577b">sigaction_t</a></td></tr>
<tr class="separator:abf5441931a69e1e1e5d2fcb538f2577b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8a6509edc999547588fff88aaa1749aa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a8a6509edc999547588fff88aaa1749aa">handle_signal</a> (int signal)</td></tr>
<tr class="memdesc:a8a6509edc999547588fff88aaa1749aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is executed whenever the program receives a SIGTERM or SIGINT signal.  <a href="#a8a6509edc999547588fff88aaa1749aa">More...</a><br /></td></tr>
<tr class="separator:a8a6509edc999547588fff88aaa1749aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167dd69f395d8eabe030132e6a251a22"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a167dd69f395d8eabe030132e6a251a22">exit_error</a> (const char *s)</td></tr>
<tr class="memdesc:a167dd69f395d8eabe030132e6a251a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prints the error message specified as argument, prints it to stderr with additionally information if errno is set.  <a href="#a167dd69f395d8eabe030132e6a251a22">More...</a><br /></td></tr>
<tr class="separator:a167dd69f395d8eabe030132e6a251a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b56ce7049602b61eb20e5785d6f9b4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a48b56ce7049602b61eb20e5785d6f9b4">create_shared_mem</a> (<a class="el" href="shared_8h.html#ad148dc55e3c26aff56f6e6ed23419691">shm_t</a> **const pshm)</td></tr>
<tr class="memdesc:a48b56ce7049602b61eb20e5785d6f9b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes shared memory used for communication between the supervisor and the generators.  <a href="#a48b56ce7049602b61eb20e5785d6f9b4">More...</a><br /></td></tr>
<tr class="separator:a48b56ce7049602b61eb20e5785d6f9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e496c39d975868a9457c7e399c404e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a84e496c39d975868a9457c7e399c404e">create_semaphores</a> (sem_t **const <a class="el" href="supervisor_8c.html#a185e05ee7e8081d54de49642b4e5c30a">sem_free</a>, sem_t **const <a class="el" href="supervisor_8c.html#a950ef33196b658f05e657a3b5cf43ce5">sem_used</a>, sem_t **const <a class="el" href="supervisor_8c.html#a4e0719c44c62fadd8ab900f9c0018ad8">sem_wmutex</a>)</td></tr>
<tr class="memdesc:a84e496c39d975868a9457c7e399c404e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes semaphores used for synchronization between the supervisor and the generators.  <a href="#a84e496c39d975868a9457c7e399c404e">More...</a><br /></td></tr>
<tr class="separator:a84e496c39d975868a9457c7e399c404e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8af35dfc186be4497b154092bba4cfd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#ad8af35dfc186be4497b154092bba4cfd">init_signal_handling</a> (<a class="el" href="supervisor_8c.html#abf5441931a69e1e1e5d2fcb538f2577b">sigaction_t</a> *const sa)</td></tr>
<tr class="memdesc:ad8af35dfc186be4497b154092bba4cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function registers the signal handling callback which is executed whenever the application receives a SIGTERM or SIGINT signal.  <a href="#ad8af35dfc186be4497b154092bba4cfd">More...</a><br /></td></tr>
<tr class="separator:ad8af35dfc186be4497b154092bba4cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97d9d5060caaef4bc31e55aa3d92c76"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#ac97d9d5060caaef4bc31e55aa3d92c76">free_resources</a> (void)</td></tr>
<tr class="memdesc:ac97d9d5060caaef4bc31e55aa3d92c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function unregisters and deletes all allocated resources.  <a href="#ac97d9d5060caaef4bc31e55aa3d92c76">More...</a><br /></td></tr>
<tr class="separator:ac97d9d5060caaef4bc31e55aa3d92c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217dbf8b442f20279ea00b898af96f52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a217dbf8b442f20279ea00b898af96f52">main</a> (int argc, const char **argv)</td></tr>
<tr class="memdesc:a217dbf8b442f20279ea00b898af96f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets up necessary resources, e.g signal handling, shared memory, semaphores and reads the result data out of the ring buffer.  <a href="#a217dbf8b442f20279ea00b898af96f52">More...</a><br /></td></tr>
<tr class="separator:a217dbf8b442f20279ea00b898af96f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acdd177da9287cefe9b98640ebd85f183"><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#acdd177da9287cefe9b98640ebd85f183">should_terminate</a> = false</td></tr>
<tr class="separator:acdd177da9287cefe9b98640ebd85f183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c9d9e16b993347cdb775c5dc977d65"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a12c9d9e16b993347cdb775c5dc977d65">pgrm_name</a> = NULL</td></tr>
<tr class="separator:a12c9d9e16b993347cdb775c5dc977d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185e05ee7e8081d54de49642b4e5c30a"><td class="memItemLeft" align="right" valign="top">static sem_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a185e05ee7e8081d54de49642b4e5c30a">sem_free</a> = NULL</td></tr>
<tr class="separator:a185e05ee7e8081d54de49642b4e5c30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950ef33196b658f05e657a3b5cf43ce5"><td class="memItemLeft" align="right" valign="top">static sem_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a950ef33196b658f05e657a3b5cf43ce5">sem_used</a> = NULL</td></tr>
<tr class="separator:a950ef33196b658f05e657a3b5cf43ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0719c44c62fadd8ab900f9c0018ad8"><td class="memItemLeft" align="right" valign="top">static sem_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a4e0719c44c62fadd8ab900f9c0018ad8">sem_wmutex</a> = NULL</td></tr>
<tr class="separator:a4e0719c44c62fadd8ab900f9c0018ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1020ec0887fec05be0d837cfcf51b663"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="shared_8h.html#ad148dc55e3c26aff56f6e6ed23419691">shm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="supervisor_8c.html#a1020ec0887fec05be0d837cfcf51b663">shm</a> = NULL</td></tr>
<tr class="separator:a1020ec0887fec05be0d837cfcf51b663"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Supervisor program module. </p>
<dl class="section author"><dt>Author</dt><dd>Klaus Hahnenkamp <a href="#" onclick="location.href='mai'+'lto:'+'e11'+'77'+'582'+'3@'+'stu'+'de'+'nt.'+'tu'+'wie'+'n.'+'ac.'+'at'; return false;">e1177<span style="display: none;">.nosp@m.</span>5823<span style="display: none;">.nosp@m.</span>@stud<span style="display: none;">.nosp@m.</span>ent.<span style="display: none;">.nosp@m.</span>tuwie<span style="display: none;">.nosp@m.</span>n.ac<span style="display: none;">.nosp@m.</span>.at</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>10.01.2019</dd></dl>
<p>The supervisor sets up the shared memory and the semaphores and initializes the circular buffer required for the communication with the generators. It then waits for the generators to write solutions to the circular buffer. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="abf5441931a69e1e1e5d2fcb538f2577b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5441931a69e1e1e5d2fcb538f2577b">&#9670;&nbsp;</a></span>sigaction_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct sigaction <a class="el" href="supervisor_8c.html#abf5441931a69e1e1e5d2fcb538f2577b">sigaction_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>used for registering a signal callback function </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a84e496c39d975868a9457c7e399c404e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e496c39d975868a9457c7e399c404e">&#9670;&nbsp;</a></span>create_semaphores()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void create_semaphores </td>
          <td>(</td>
          <td class="paramtype">sem_t **const&#160;</td>
          <td class="paramname"><em>sem_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sem_t **const&#160;</td>
          <td class="paramname"><em>sem_used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sem_t **const&#160;</td>
          <td class="paramname"><em>sem_wmutex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function initializes semaphores used for synchronization between the supervisor and the generators. </p>
<p>create semaphores </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sem_free</td><td>a reference to the sem_free pointer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sem_used</td><td>a reference to a sem_used pointer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sem_wmutex</td><td>a reference to a sem_wmutex pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48b56ce7049602b61eb20e5785d6f9b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b56ce7049602b61eb20e5785d6f9b4">&#9670;&nbsp;</a></span>create_shared_mem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void create_shared_mem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shared_8h.html#ad148dc55e3c26aff56f6e6ed23419691">shm_t</a> **const&#160;</td>
          <td class="paramname"><em>pshm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function initializes shared memory used for communication between the supervisor and the generators. </p>
<p>create the shared memory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pshm</td><td>a reference to a shm_t pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a167dd69f395d8eabe030132e6a251a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a167dd69f395d8eabe030132e6a251a22">&#9670;&nbsp;</a></span>exit_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void exit_error </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function prints the error message specified as argument, prints it to stderr with additionally information if errno is set. </p>
<p>Prints an error message and exits with code 1 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>error message to be printed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac97d9d5060caaef4bc31e55aa3d92c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97d9d5060caaef4bc31e55aa3d92c76">&#9670;&nbsp;</a></span>free_resources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_resources </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function unregisters and deletes all allocated resources. </p>
<p>delete all resources used </p>

</div>
</div>
<a id="a8a6509edc999547588fff88aaa1749aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6509edc999547588fff88aaa1749aa">&#9670;&nbsp;</a></span>handle_signal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_signal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is executed whenever the program receives a SIGTERM or SIGINT signal. </p>
<p>Signal callback </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">signal</td><td>the signal to be handled </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8af35dfc186be4497b154092bba4cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8af35dfc186be4497b154092bba4cfd">&#9670;&nbsp;</a></span>init_signal_handling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_signal_handling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="supervisor_8c.html#abf5441931a69e1e1e5d2fcb538f2577b">sigaction_t</a> *const&#160;</td>
          <td class="paramname"><em>sa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function registers the signal handling callback which is executed whenever the application receives a SIGTERM or SIGINT signal. </p>
<p>initializes signal handling </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sem_free</td><td>a reference to a sigaction_t struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a217dbf8b442f20279ea00b898af96f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217dbf8b442f20279ea00b898af96f52">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets up necessary resources, e.g signal handling, shared memory, semaphores and reads the result data out of the ring buffer. </p>
<p>Main entry point of the supervisor program </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argc</td><td>argument count </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argv</td><td>argument vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns EXIT_SUCCESS</dd></dl>
<p>global variables: pgrm_name</p>
<p>global variables: should_terminate</p>
<p>global variables: sem_free</p>
<p>global variables: sem_used</p>
<p>global variables: sem_wmutex</p>
<p>global variables: shm </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a12c9d9e16b993347cdb775c5dc977d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c9d9e16b993347cdb775c5dc977d65">&#9670;&nbsp;</a></span>pgrm_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* pgrm_name = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>the program name, set in early stage of execution </p>

</div>
</div>
<a id="a185e05ee7e8081d54de49642b4e5c30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185e05ee7e8081d54de49642b4e5c30a">&#9670;&nbsp;</a></span>sem_free</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sem_t* sem_free = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>pointer to the semaphore tracking the free space in the ring buffer </p>

</div>
</div>
<a id="a950ef33196b658f05e657a3b5cf43ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950ef33196b658f05e657a3b5cf43ce5">&#9670;&nbsp;</a></span>sem_used</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sem_t* sem_used = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>pointer to the semaphore tracking the used space in the ring buffer </p>

</div>
</div>
<a id="a4e0719c44c62fadd8ab900f9c0018ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e0719c44c62fadd8ab900f9c0018ad8">&#9670;&nbsp;</a></span>sem_wmutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sem_t* sem_wmutex = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>pointer to the semaphore used for mutex-access to the write end of the ring buffer </p>

</div>
</div>
<a id="a1020ec0887fec05be0d837cfcf51b663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1020ec0887fec05be0d837cfcf51b663">&#9670;&nbsp;</a></span>shm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared_8h.html#ad148dc55e3c26aff56f6e6ed23419691">shm_t</a>* <a class="el" href="structshm.html">shm</a> = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>pointer to the shared memory </p>

</div>
</div>
<a id="acdd177da9287cefe9b98640ebd85f183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdd177da9287cefe9b98640ebd85f183">&#9670;&nbsp;</a></span>should_terminate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool should_terminate = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>when set via signal callback, the supervisor advises generators to terminate and terminates itself </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
